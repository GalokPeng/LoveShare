# Love Share

Love Share æ˜¯ä¸€ä¸ªåŸºäº React + TypeScript + Vite æ„å»ºçš„ç°ä»£åŒ–æ•°æ®å±•ç¤ºå¹³å°ï¼Œé›†æˆäº† Supabase åç«¯æœåŠ¡ï¼Œæä¾›äº†è¡¨æ ¼è§†å›¾å’Œå¡ç‰‡è§†å›¾åˆ‡æ¢ã€æœç´¢ã€åˆ†é¡µã€åˆ†ç±»ç­›é€‰ç­‰åŠŸèƒ½ã€‚

- è®¿é—®é¡µé¢ï¼š[Demo](https://love-share.vercel.app/)

## é¡¹ç›®ç‰¹ç‚¹

- ğŸ”¥ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: ä½¿ç”¨ React 19ã€TypeScript å’Œ Vite æ„å»ºï¼Œæ€§èƒ½ä¼˜å¼‚
- ğŸ¨ **ç¾è§‚çš„ UI è®¾è®¡**: åŸºäº Material UI æ„å»ºï¼Œæ”¯æŒä¸»é¢˜åˆ‡æ¢
- ğŸ“Š **å¤šç§è§†å›¾æ¨¡å¼**: æ”¯æŒè¡¨æ ¼è§†å›¾å’Œå¡ç‰‡è§†å›¾åˆ‡æ¢
- ğŸ” **å¼ºå¤§çš„æœç´¢åŠŸèƒ½**: æ”¯æŒå¤šå­—æ®µæœç´¢
- ğŸ“„ **åˆ†é¡µåŠŸèƒ½**: æ”¯æŒè‡ªå®šä¹‰æ¯é¡µæ˜¾ç¤ºæ•°é‡
- ğŸ“ **åˆ†ç±»ç­›é€‰**: æ”¯æŒæŒ‰åˆ†ç±»ç­›é€‰æ•°æ®
- ğŸ”„ **å®æ—¶æ•°æ®æ›´æ–°**: ä½¿ç”¨ React Query å®ç°æ•°æ®ç¼“å­˜å’Œè‡ªåŠ¨å¤±æ•ˆ
- ğŸ’ª **ç±»å‹å®‰å…¨**: å…¨é¢çš„ TypeScript æ”¯æŒ
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§å±å¹•å°ºå¯¸
- ğŸ”’ **æ•°æ®ç®¡ç†**: æ”¯æŒæ•°æ®å¢åˆ æ”¹æŸ¥

ä½ åªéœ€è¦åœ¨å³ä¸Šè§’ âš™ éªŒè¯ supabase çš„ Secret keys å³å¯å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥

Secret keys è·å–æ–¹å¼: dashboard --> project setting --> API keys

è®¤è¯é€šè¿‡åä¼šåœ¨ç•Œé¢æ˜¾ç¤ºè¿™äº›æ“ä½œ

![admin](https://github.com/GalokPeng/LoveShare/blob/27cfaf98f4cc37fd1e0aa542f43179ec3a4dda9c/public/add_admin.png)

## è§„åˆ’ä¸­

- ğŸ”’ **æ–‡ç« ç›¸å…³**: markdown ç¼–è¾‘æ–‡ç« ï¼ˆå¿…é¡»ï¼‰
- ğŸ”‘ **ç”¨æˆ·è®¤è¯**: è®¡åˆ’æ·»åŠ ç”¨æˆ·ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½ï¼ˆå¯èƒ½ï¼‰

## å¿«é€Ÿä½“éªŒ

### 0. åˆ›å»º Supabase è´¦å·å¹¶è¿è¡Œ SQL ï¼ˆä¸‹æ–¹ï¼šSupabase å¯¼èˆªæ è¡¨åˆ›å»ºï¼‰

### 1. ä¸€é”®éƒ¨ç½²

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/GalokPeng/LoveShare&project-name=LoveShare&repository-name=LoveShare&root-directory=src)

### 2. å°†.env.example ç›´æ¥å¯¼å…¥ vercel ç¯å¢ƒå˜é‡

## æŠ€æœ¯æ ˆ

### å‰ç«¯

- **æ¡†æ¶**: React 19
- **è¯­è¨€**: TypeScript
- **æ„å»ºå·¥å…·**: Vite (ä½¿ç”¨ rolldown-vite)
- **UI ç»„ä»¶åº“**: Material UI (MUI) v7
- **çŠ¶æ€ç®¡ç†**: React Context + React Query
- **ä¸»é¢˜ç®¡ç†**: è‡ªå®šä¹‰ ThemeContext
- **ä»£ç è§„èŒƒ**: ESLint + TypeScript ESLint

### åç«¯

- **æ•°æ®åº“**: Supabase
- **API**: Supabase REST API

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+ æˆ– Bun
- pnpm (æ¨è) æˆ– npm/yarn
- Supabase è´¦å·å’Œé¡¹ç›®

### å®‰è£…

1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd love_share
```

2. å®‰è£…ä¾èµ–

```bash
pnpm install
# æˆ–ä½¿ç”¨ npm
npm install
# æˆ–ä½¿ç”¨ yarn
yarn install
```

3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼Œæ ¹æ® `.env.example` é…ç½®ç¯å¢ƒå˜é‡ï¼š

- ä»¥ä¸‹æ˜¾ç¤ºå¿…é…å­—æ®µï¼Œexample å·²ç»é¢„å¤‡å¥½ï¼Œé»˜è®¤ä½ åªéœ€è¦å¡«å†™
  - VITE_SUPABASE_URL å’Œ VITE_SUPABASE_PUBLISHABLE_DEFAULT_KEY

```env
# Supabase é…ç½®
VITE_SUPABASE_URL=<your-supabase-url>
VITE_SUPABASE_PUBLISHABLE_DEFAULT_KEY=<your-supabase-anon-key>
VITE_SUPABASE_PAGE_SIZE=12

# è¡¨é…ç½®
# æ ¼å¼ï¼š{"è¡¨å":{"show_name":"æ˜¾ç¤ºåç§°", "å­—æ®µå":"æ˜¾ç¤ºåç§°"}}
VITE_SUPABASE_TABLE_DIC={"navigation":{"show_name":"å¯¼èˆªæ ","id":"ç¼–å·","created_at":"åˆ›å»ºæ—¶é—´","title":"æ ‡é¢˜","abstract":"æ‘˜è¦","article":"æ–‡ç« ","img":"å›¾ç‰‡","to_link":"è·³è½¬é“¾æ¥","obj":"åˆ†ç±»"}}

# åˆ†ç±»åˆ—é…ç½®
# æ ¼å¼ï¼š{"è¡¨å":"åˆ†ç±»åˆ—å"}
VITE_SUPABASE_TABLE_CATEGORY_COL={"navigation":"obj"}

# åˆ†ç±»å¯ç”¨é…ç½®
VITE_SUPABASE_TABLE_CATEGORY_ENABLE={"navigation":true}

# è§†å›¾é…ç½®
VITE_SUPABASE_TABLE_SHOW_VIEWS={"navigation":["card"]}

# æœç´¢é…ç½®ï¼ˆä¾‹ï¼šæ ¹æ®title&abstractçš„å†…å®¹æŸ¥æ‰¾ï¼‰
VITE_SUPABASE_TABLE_DEFAULT_SEARCH={"navigation":["title","abstract"]}
```

### è¿è¡Œ

```bash
pnpm dev & pnpm run server
# æˆ–ä½¿ç”¨ npm
npm run dev & pnpm run server
# æˆ–ä½¿ç”¨ yarn
yarn dev & pnpm run server
```

è®¿é—® `http://localhost:5173` æŸ¥çœ‹åº”ç”¨
`http://localhost:3000` API (vercel éƒ¨ç½²æ— éœ€è¿‡å¤šæ“ä½œ)

## Supabase å¯¼èˆªæ è¡¨åˆ›å»º(å¿…é¡»)

è¦ä½¿ç”¨é¡¹ç›®çš„å¯¼èˆªåŠŸèƒ½ï¼Œéœ€è¦åœ¨ Supabase ä¸­åˆ›å»º `navigation` è¡¨ã€‚è¯·æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š

```sql
-- åˆ›å»º navigation è¡¨ï¼ˆä¸ç°æœ‰è¡¨ç»“æ„ä¸€æ¨¡ä¸€æ ·ï¼‰
CREATE TABLE public.navigation (
  id bigserial PRIMARY KEY,
  created_at timestamp WITHOUT time zone DEFAULT now(),
  title character varying,
  abstract character varying,
  article character varying,
  img character varying,
  to_link text, -- è·³è½¬é“¾æ¥
  obj text,     -- åˆ†ç±»
  to_article boolean DEFAULT false, -- æ˜¯å¦è·³è½¬è‡³æ–‡ç« é¡µ
  slug uuid DEFAULT gen_random_uuid() -- æ–‡ç« é¡µé¢è·¯å¾„
);

-- å­—æ®µæ³¨é‡Š
COMMENT ON COLUMN public.navigation.to_link IS 'è·³è½¬é“¾æ¥';
COMMENT ON COLUMN public.navigation.obj IS 'åˆ†ç±»';
COMMENT ON COLUMN public.navigation.to_article IS 'æ˜¯å¦è·³è½¬è‡³æ–‡ç« é¡µ';
COMMENT ON COLUMN public.navigation.slug IS 'æ–‡ç« é¡µé¢è·¯å¾„';

-- å¯ç”¨ RLSï¼ˆå¦‚æœä½ éœ€è¦å¯ç”¨ï¼‰
ALTER TABLE public.navigation ENABLE ROW LEVEL SECURITY;

-- ç¤ºä¾‹ï¼šå…è®¸ authenticated ç”¨æˆ· SELECTï¼ˆæ ¹æ®éœ€è¦å¯ç”¨ï¼‰
-- CREATE POLICY "Allow authenticated select" ON public.navigation
--   FOR SELECT TO authenticated USING (true);
-- ç¤ºä¾‹2ï¼šç›´æ¥å…¬å¼€
CREATE POLICY "Allow anon select" ON public.navigation FOR SELECT TO anon USING (true);

-- åˆ†ç±»è§†å›¾ï¼šnavigation_obj  å› ä¸ºsupabaseä¸æ”¯æŒåœ¨è§†å›¾ä¸­ä½¿ç”¨distinct()å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºä¸€ä¸ªåˆ†ç±»è§†å›¾
CREATE OR REPLACE VIEW public.navigation_obj AS
SELECT DISTINCT obj AS obj
FROM public.navigation;
```

## éƒ¨ç½²

### Vercel

1. ç™»å½• Vercel
2. å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²

### Netlify

1. ç™»å½• Netlify
2. å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²

### GitHub Pages

1. é…ç½® `vite.config.ts` ä¸­çš„ `base` é€‰é¡¹
2. è¿è¡Œ `pnpm build` æ„å»ºé¡¹ç›®
3. éƒ¨ç½² `dist` ç›®å½•åˆ° GitHub Pages

## è®¸å¯è¯

[MIT License](https://github.com/GalokPeng/LoveShare?tab=MIT-1-ov-file#readme)

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## Star è¶‹åŠ¿

[![Star History Chart](https://api.star-history.com/svg?repos=galokpeng/LoveShare&type=Date)](https://star-history.com/#galokpeng/LoveShare&Date)

## åé¦ˆ

æ¬¢è¿æäº¤é—®é¢˜å’Œåé¦ˆï¼æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š

- [æäº¤ Issue](https://github.com/galokpeng/LoveShare/issues)

## è‡´è°¢

- [React](https://react.dev/)
- [TypeScript](https://www.typescriptlang.org/)
- [Vite](https://vitejs.dev/)
- [Material UI](https://mui.com/)
- [Supabase](https://supabase.com/)
- [React Query](https://tanstack.com/query/v5/)
